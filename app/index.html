---
layout: default
lang: en

---

<!-- Create a modal that'll get filled with goodies -->
<div class="day-modal hidden">
  <div class="full-mask-exit"></div>
  <div class="day-container">
    <i class="collecticons collecticons-xmark"></i>
    <div class="day-content__footer">
      <span class="day-content__prev"><i class="collecticons collecticons-leftkey"></i></span>
      <h3 class="day-content__date">Monday, July 1st</h3>
      <span class="day-content__next"><i class="collecticons collecticons-rightkey"></i></span>
    </div>
    <div class="day-content">
      <div class="day-content__image">
        <img src="./assets/graphics/full/feb/f-19.gif"></img>
      </div>
      <div class="day-content__text">
        <div class="day-content__link"><a href="place">Link Name Would Go Here</a></div>
        <div class="day-content__notes">"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
      </div>
    </div>
  </div>
</div>

<!-- Start by looping for each month -->
{% for m in site.monthz %}  
      
  <!-- Make a beautiful lil' imdayCounter -->
  <div class="month__masthead">
    <img src="./assets/graphics/content/{{ m.month }}/cover.png"></img>
  </div>

  <!-- Make a lil' bar for the dayz -->
  <ul class="oh-the-days">
    <li>Sun</li>
    <li>Mon</li>
    <li>Tue</li>
    <li>Wed</li>
    <li>Thu</li>
    <li>Fri</li>
    <li>Sat</li>
  </ul>

  <!-- Make a row for the dayz -->
  <div class="dayz-container">
    <!-- Counter for how many day boxes we're building -->
    {% assign dayCounter = 0 %}

    <!-- Create empty calendar blocks for the days not in the prior month -->
    {% for i in (1..m.start) %}
      {% capture dayCounter %}{{ dayCounter | plus:1 }}{% endcapture %}
      <div class="calendar-item__empty"></div>
    {% endfor %}

    {% for d in site.dayz | reversed %}
      <!-- If we already have 7 days in this row, make a new row -->
      {% capture dayCounter %}{{ dayCounter | plus:1 }}{% endcapture %}
      {% if dayCounter == "8" || dayCounter == "16" || dayCounter == "24" || dayCounter == "32" %}
        </div><div class="dayz-container">
      {% endif %}

      <!-- Shoot over this days front matter to the javascript -->
      <script>
        // check if PT object exisits. Double quotes in case of an apostraphe in the text
        var matchBox = ['{{d.num}}', '{{d.month}}', '{{d.when}}', '{{d.day}}', '{{d.link}}', "{{d.linkname}}", "{{d.notes}}", '{{d.imageType}}', '{{d.more}}']

        ptMaker('num', 0)
        ptMaker('month', 1)
        ptMaker('when', 2)
        ptMaker('day', 3)
        ptMaker('link', 4)
        ptMaker('linkname', 5)
        ptMaker('notes', 6)
        ptMaker('imageType', 7)
        ptMaker('more', 8)

        function ptMaker(feature, matcher) {
          if(PT[feature] != null){
            var cart = PT[feature];
          }else{
            var cart = []
          };

          // push new value to the array....
          cart.push(matchBox[matcher])

          // and save that array, yeah!
          PT[feature] = cart
        }

        function openSesame(value) {
          var currentDay = value
          console.log(currentDay)
        }
      </script>

      <!-- Create the calendar blocks with content in them  -->
      {% if d.month == m.month %}
        <div class="calendar-item for-script-{{ d.num }}" style="background:url('./assets/graphics/thumbs/{{ m.month }}/t-{{ d.day }}.{{ d.imageType }}') no-repeat; background-position:center; background-size:cover">
          <div class="calendar-date">
            <p>{{ d.day }}</p>
          </div>
        </div>
      {% endif %}
    {% endfor %}

    <!-- Make empty containers for leftover spaces to fill out the week -->
    {% if dayCounter != "7" || dayCounter != "15" || dayCounter != "23" || dayCounter != "31" %}
      {% capture dayCounter %}{{ dayCounter | modulo: 7 | minus: 7 | times:-1 }}{% endcapture %}
      {% for i in (1..dayCounter) %}
        <div class="calendar-item__empty"></div>
      {% endfor %}
    {% endif %}
    </div>

{% endfor %}
